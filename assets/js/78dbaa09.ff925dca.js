"use strict";(globalThis.webpackChunkphysical_ai_humanoid_robotics=globalThis.webpackChunkphysical_ai_humanoid_robotics||[]).push([[643],{4468(n,e,r){r.r(e),r.d(e,{assets:()=>s,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"module-1/launch-files","title":"Launch Files","description":"Comprehensive guide to ROS 2 launch files for configuring and launching robot systems","source":"@site/docs/module-1/launch-files.md","sourceDirName":"module-1","slug":"/module-1/launch-files","permalink":"/physical-ai/docs/module-1/launch-files","draft":false,"unlisted":false,"editUrl":"https://github.com/physical-ai-textbook/book-ai/tree/main/docs/module-1/launch-files.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"id":"launch-files","title":"Launch Files","sidebar_position":6,"description":"Comprehensive guide to ROS 2 launch files for configuring and launching robot systems","keywords":["ros2 launch","launch files","robot configuration","system launch","launch parameters"]},"sidebar":"textbook","previous":{"title":"URDF for Humanoids","permalink":"/physical-ai/docs/module-1/urdf-humanoids"},"next":{"title":"Module 1 Assessment","permalink":"/physical-ai/docs/module-1/assessment"}}');var i=r(4848),o=r(8453);const t={id:"launch-files",title:"Launch Files",sidebar_position:6,description:"Comprehensive guide to ROS 2 launch files for configuring and launching robot systems",keywords:["ros2 launch","launch files","robot configuration","system launch","launch parameters"]},c="Launch Files",s={},l=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Introduction to Launch Files",id:"introduction-to-launch-files",level:2},{value:"What are Launch Files?",id:"what-are-launch-files",level:3},{value:"Basic Launch File Structure",id:"basic-launch-file-structure",level:3},{value:"Launch File Execution",id:"launch-file-execution",level:3},{value:"Basic Launch File Components",id:"basic-launch-file-components",level:2},{value:"LaunchDescription",id:"launchdescription",level:3},{value:"Launch Arguments",id:"launch-arguments",level:3},{value:"Node Launching with Parameters",id:"node-launching-with-parameters",level:2},{value:"Basic Node Launching",id:"basic-node-launching",level:3},{value:"Parameter Files",id:"parameter-files",level:3},{value:"Advanced Launch Patterns",id:"advanced-launch-patterns",level:2},{value:"Conditional Launching",id:"conditional-launching",level:3},{value:"Grouping and Namespacing",id:"grouping-and-namespacing",level:3},{value:"Launch Substitutions",id:"launch-substitutions",level:2},{value:"Common Substitutions",id:"common-substitutions",level:3},{value:"Complex Robot System Launch",id:"complex-robot-system-launch",level:2},{value:"Complete Humanoid Robot Launch",id:"complete-humanoid-robot-launch",level:3},{value:"Launch Actions and Utilities",id:"launch-actions-and-utilities",level:2},{value:"Timer Actions",id:"timer-actions",level:3},{value:"Execute Process",id:"execute-process",level:3},{value:"Parameter Configuration",id:"parameter-configuration",level:2},{value:"Complex Parameter Setup",id:"complex-parameter-setup",level:3},{value:"Launch File Best Practices",id:"launch-file-best-practices",level:2},{value:"Modular Launch Files",id:"modular-launch-files",level:3},{value:"Error Handling and Validation",id:"error-handling-and-validation",level:3},{value:"Debugging Launch Files",id:"debugging-launch-files",level:2},{value:"Debug Information",id:"debug-information",level:3},{value:"Advanced Launch Techniques",id:"advanced-launch-techniques",level:2},{value:"Custom Launch Actions",id:"custom-launch-actions",level:3},{value:"Launch File Composition",id:"launch-file-composition",level:3},{value:"Common Launch File Patterns",id:"common-launch-file-patterns",level:2},{value:"Sensor Processing Pipeline",id:"sensor-processing-pipeline",level:3},{value:"Launch File Testing",id:"launch-file-testing",level:2},{value:"Testing Launch Files",id:"testing-launch-files",level:3},{value:"Next Steps",id:"next-steps",level:2},{value:"Learning Objectives Review",id:"learning-objectives-review",level:2},{value:"Practical Exercise",id:"practical-exercise",level:2},{value:"Assessment Questions",id:"assessment-questions",level:2},{value:"Further Reading",id:"further-reading",level:2}];function u(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"launch-files",children:"Launch Files"})}),"\n",(0,i.jsx)(e.p,{children:"Launch files in ROS 2 provide a powerful way to configure and launch complex robot systems with multiple nodes, parameters, and configurations. This chapter covers everything you need to know about creating and using launch files for robot systems."}),"\n",(0,i.jsx)(e.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Understand the structure and syntax of ROS 2 launch files"}),"\n",(0,i.jsx)(e.li,{children:"Create launch files for complex robot systems"}),"\n",(0,i.jsx)(e.li,{children:"Use parameters, arguments, and conditions in launch files"}),"\n",(0,i.jsx)(e.li,{children:"Implement advanced launch patterns and best practices"}),"\n",(0,i.jsx)(e.li,{children:"Debug and troubleshoot launch file configurations"}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"introduction-to-launch-files",children:"Introduction to Launch Files"}),"\n",(0,i.jsx)(e.h3,{id:"what-are-launch-files",children:"What are Launch Files?"}),"\n",(0,i.jsx)(e.p,{children:"Launch files in ROS 2 are Python scripts that define how to launch multiple nodes and configure the ROS system. They replace the XML-based launch files from ROS 1 and provide more flexibility and power through Python."}),"\n",(0,i.jsx)(e.h3,{id:"basic-launch-file-structure",children:"Basic Launch File Structure"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"# basic_launch.py\r\nfrom launch import LaunchDescription\r\nfrom launch_ros.actions import Node\r\n\r\ndef generate_launch_description():\r\n    return LaunchDescription([\r\n        Node(\r\n            package='demo_nodes_cpp',\r\n            executable='talker',\r\n            name='talker_node'\r\n        ),\r\n        Node(\r\n            package='demo_nodes_cpp',\r\n            executable='listener',\r\n            name='listener_node'\r\n        )\r\n    ])\n"})}),"\n",(0,i.jsx)(e.h3,{id:"launch-file-execution",children:"Launch File Execution"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# Launch a launch file\r\nros2 launch my_package basic_launch.py\r\n\r\n# Launch with arguments\r\nros2 launch my_package advanced_launch.py robot_name:=robot1\n"})}),"\n",(0,i.jsx)(e.h2,{id:"basic-launch-file-components",children:"Basic Launch File Components"}),"\n",(0,i.jsx)(e.h3,{id:"launchdescription",children:"LaunchDescription"}),"\n",(0,i.jsxs)(e.p,{children:["The ",(0,i.jsx)(e.code,{children:"LaunchDescription"})," is the container for all launch actions:"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"from launch import LaunchDescription\r\nfrom launch.actions import DeclareLaunchArgument, LogInfo\r\nfrom launch.substitutions import LaunchConfiguration\r\nfrom launch_ros.actions import Node\r\n\r\ndef generate_launch_description():\r\n    # Create launch configuration\r\n    log_message = LaunchConfiguration('log_message', default='Hello World')\r\n\r\n    return LaunchDescription([\r\n        # Declare launch arguments\r\n        DeclareLaunchArgument(\r\n            'log_message',\r\n            default_value='Hello World',\r\n            description='Message to log'\r\n        ),\r\n\r\n        # Log the message\r\n        LogInfo(msg=log_message),\r\n\r\n        # Launch nodes\r\n        Node(\r\n            package='demo_nodes_cpp',\r\n            executable='talker',\r\n            name='talker_node'\r\n        )\r\n    ])\n"})}),"\n",(0,i.jsx)(e.h3,{id:"launch-arguments",children:"Launch Arguments"}),"\n",(0,i.jsx)(e.p,{children:"Launch arguments allow parameterizing launch files:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"from launch import LaunchDescription\r\nfrom launch.actions import DeclareLaunchArgument\r\nfrom launch.substitutions import LaunchConfiguration\r\nfrom launch_ros.actions import Node\r\n\r\ndef generate_launch_description():\r\n    # Declare launch arguments\r\n    robot_name_arg = DeclareLaunchArgument(\r\n        'robot_name',\r\n        default_value='default_robot',\r\n        description='Name of the robot'\r\n    )\r\n\r\n    namespace_arg = DeclareLaunchArgument(\r\n        'namespace',\r\n        default_value='',\r\n        description='Robot namespace'\r\n    )\r\n\r\n    # Use launch configurations\r\n    robot_name = LaunchConfiguration('robot_name')\r\n    namespace = LaunchConfiguration('namespace')\r\n\r\n    return LaunchDescription([\r\n        robot_name_arg,\r\n        namespace_arg,\r\n\r\n        Node(\r\n            package='my_robot_package',\r\n            executable='robot_controller',\r\n            name='controller',\r\n            namespace=namespace,\r\n            parameters=[\r\n                {'robot_name': robot_name}\r\n            ]\r\n        )\r\n    ])\n"})}),"\n",(0,i.jsx)(e.h2,{id:"node-launching-with-parameters",children:"Node Launching with Parameters"}),"\n",(0,i.jsx)(e.h3,{id:"basic-node-launching",children:"Basic Node Launching"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"from launch import LaunchDescription\r\nfrom launch_ros.actions import Node\r\n\r\ndef generate_launch_description():\r\n    return LaunchDescription([\r\n        Node(\r\n            package='my_package',\r\n            executable='my_node',\r\n            name='my_node_name',\r\n            parameters=[\r\n                {'param1': 'value1'},\r\n                {'param2': 42},\r\n                {'param3': True}\r\n            ],\r\n            remappings=[\r\n                ('original_topic', 'remapped_topic'),\r\n                ('/original/service', '/remapped/service')\r\n            ],\r\n            arguments=['--arg1', 'value1'],\r\n            output='screen'  # Show output in terminal\r\n        )\r\n    ])\n"})}),"\n",(0,i.jsx)(e.h3,{id:"parameter-files",children:"Parameter Files"}),"\n",(0,i.jsx)(e.p,{children:"Launch files can load parameters from YAML files:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"from launch import LaunchDescription\r\nfrom launch.actions import DeclareLaunchArgument\r\nfrom launch.substitutions import LaunchConfiguration\r\nfrom launch_ros.actions import Node\r\nfrom launch_ros.parameter_descriptions import ParameterFile\r\n\r\ndef generate_launch_description():\r\n    params_file_arg = DeclareLaunchArgument(\r\n        'params_file',\r\n        default_value='/path/to/params.yaml',\r\n        description='Path to parameters file'\r\n    )\r\n\r\n    params_file = LaunchConfiguration('params_file')\r\n\r\n    return LaunchDescription([\r\n        params_file_arg,\r\n\r\n        Node(\r\n            package='my_package',\r\n            executable='my_node',\r\n            name='my_node_with_params',\r\n            parameters=[ParameterFile(params_file)]\r\n        )\r\n    ])\n"})}),"\n",(0,i.jsx)(e.p,{children:"Example parameters file (params.yaml):"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-yaml",children:'my_node_with_params:\r\n  ros__parameters:\r\n    robot_name: "my_robot"\r\n    max_velocity: 1.0\r\n    safety_distance: 0.5\r\n    topics:\r\n      cmd_vel: "/cmd_vel"\r\n      laser_scan: "/scan"\n'})}),"\n",(0,i.jsx)(e.h2,{id:"advanced-launch-patterns",children:"Advanced Launch Patterns"}),"\n",(0,i.jsx)(e.h3,{id:"conditional-launching",children:"Conditional Launching"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"from launch import LaunchDescription, LaunchCondition\r\nfrom launch.actions import DeclareLaunchArgument, IfCondition\r\nfrom launch.substitutions import LaunchConfiguration\r\nfrom launch_ros.actions import Node\r\n\r\ndef generate_launch_description():\r\n    # Declare launch arguments\r\n    use_sim_time_arg = DeclareLaunchArgument(\r\n        'use_sim_time',\r\n        default_value='false',\r\n        description='Use simulation time'\r\n    )\r\n\r\n    enable_debug_arg = DeclareLaunchArgument(\r\n        'enable_debug',\r\n        default_value='false',\r\n        description='Enable debug nodes'\r\n    )\r\n\r\n    # Get configurations\r\n    use_sim_time = LaunchConfiguration('use_sim_time')\r\n    enable_debug = LaunchConfiguration('enable_debug')\r\n\r\n    return LaunchDescription([\r\n        use_sim_time_arg,\r\n        enable_debug_arg,\r\n\r\n        # Launch nodes conditionally\r\n        Node(\r\n            package='my_package',\r\n            executable='robot_driver',\r\n            name='robot_driver',\r\n            parameters=[\r\n                {'use_sim_time': use_sim_time}\r\n            ]\r\n        ),\r\n\r\n        # Debug node only if enabled\r\n        Node(\r\n            package='my_package',\r\n            executable='debug_node',\r\n            name='debug_node',\r\n            condition=IfCondition(enable_debug)\r\n        )\r\n    ])\n"})}),"\n",(0,i.jsx)(e.h3,{id:"grouping-and-namespacing",children:"Grouping and Namespacing"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"from launch import LaunchDescription\r\nfrom launch.actions import GroupAction\r\nfrom launch_ros.actions import Node, PushRosNamespace\r\n\r\ndef generate_launch_description():\r\n    return LaunchDescription([\r\n        # Group nodes under a namespace\r\n        GroupAction(\r\n            actions=[\r\n                PushRosNamespace('robot1'),\r\n\r\n                Node(\r\n                    package='navigation2',\r\n                    executable='bt_navigator',\r\n                    name='bt_navigator'\r\n                ),\r\n\r\n                Node(\r\n                    package='navigation2',\r\n                    executable='controller_server',\r\n                    name='controller_server'\r\n                ),\r\n\r\n                Node(\r\n                    package='navigation2',\r\n                    executable='planner_server',\r\n                    name='planner_server'\r\n                )\r\n            ]\r\n        )\r\n    ])\n"})}),"\n",(0,i.jsx)(e.h2,{id:"launch-substitutions",children:"Launch Substitutions"}),"\n",(0,i.jsx)(e.h3,{id:"common-substitutions",children:"Common Substitutions"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"from launch import LaunchDescription\r\nfrom launch.actions import DeclareLaunchArgument, SetEnvironmentVariable\r\nfrom launch.substitutions import LaunchConfiguration, PathJoinSubstitution, TextSubstitution\r\nfrom launch_ros.actions import Node\r\nfrom launch_ros.substitutions import FindPackageShare\r\n\r\ndef generate_launch_description():\r\n    # Declare arguments\r\n    robot_model_arg = DeclareLaunchArgument(\r\n        'robot_model',\r\n        default_value='my_robot',\r\n        description='Robot model name'\r\n    )\r\n\r\n    # Use substitutions\r\n    robot_model = LaunchConfiguration('robot_model')\r\n    config_path = PathJoinSubstitution([\r\n        FindPackageShare('my_robot_description'),\r\n        'config',\r\n        [robot_model, '.yaml']\r\n    ])\r\n\r\n    return LaunchDescription([\r\n        robot_model_arg,\r\n\r\n        # Set environment variable\r\n        SetEnvironmentVariable(\r\n            name='MY_ROBOT_MODEL',\r\n            value=robot_model\r\n        ),\r\n\r\n        Node(\r\n            package='my_robot_package',\r\n            executable='robot_bringup',\r\n            name=[robot_model, '_bringup'],  # Concatenate strings\r\n            parameters=[config_path]\r\n        )\r\n    ])\n"})}),"\n",(0,i.jsx)(e.h2,{id:"complex-robot-system-launch",children:"Complex Robot System Launch"}),"\n",(0,i.jsx)(e.h3,{id:"complete-humanoid-robot-launch",children:"Complete Humanoid Robot Launch"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"from launch import LaunchDescription\r\nfrom launch.actions import DeclareLaunchArgument, IncludeLaunchDescription, TimerAction\r\nfrom launch.conditions import IfCondition\r\nfrom launch.substitutions import LaunchConfiguration, PathJoinSubstitution\r\nfrom launch.launch_description_sources import PythonLaunchDescriptionSource\r\nfrom launch_ros.actions import Node\r\nfrom launch_ros.substitutions import FindPackageShare\r\n\r\ndef generate_launch_description():\r\n    # Launch arguments\r\n    use_sim_time_arg = DeclareLaunchArgument(\r\n        'use_sim_time',\r\n        default_value='false',\r\n        description='Use simulation time'\r\n    )\r\n\r\n    robot_name_arg = DeclareLaunchArgument(\r\n        'robot_name',\r\n        default_value='humanoid_robot',\r\n        description='Name of the robot'\r\n    )\r\n\r\n    enable_vision_arg = DeclareLaunchArgument(\r\n        'enable_vision',\r\n        default_value='true',\r\n        description='Enable vision processing nodes'\r\n    )\r\n\r\n    # Configurations\r\n    use_sim_time = LaunchConfiguration('use_sim_time')\r\n    robot_name = LaunchConfiguration('robot_name')\r\n    enable_vision = LaunchConfiguration('enable_vision')\r\n\r\n    # Package locations\r\n    pkg_robot_description = FindPackageShare('humanoid_description')\r\n    pkg_robot_bringup = FindPackageShare('humanoid_bringup')\r\n\r\n    return LaunchDescription([\r\n        use_sim_time_arg,\r\n        robot_name_arg,\r\n        enable_vision_arg,\r\n\r\n        # Robot state publisher\r\n        Node(\r\n            package='robot_state_publisher',\r\n            executable='robot_state_publisher',\r\n            name='robot_state_publisher',\r\n            parameters=[\r\n                {'use_sim_time': use_sim_time},\r\n                {'robot_description': PathJoinSubstitution([\r\n                    pkg_robot_description,\r\n                    'urdf',\r\n                    'humanoid.urdf.xacro'\r\n                ])}\r\n            ],\r\n            remappings=[\r\n                ('/joint_states', [robot_name, '/joint_states'])\r\n            ]\r\n        ),\r\n\r\n        # Joint state publisher (GUI for testing)\r\n        Node(\r\n            package='joint_state_publisher_gui',\r\n            executable='joint_state_publisher_gui',\r\n            name='joint_state_publisher_gui',\r\n            parameters=[\r\n                {'use_sim_time': use_sim_time}\r\n            ]\r\n        ),\r\n\r\n        # Robot controller\r\n        Node(\r\n            package='humanoid_controller',\r\n            executable='controller_node',\r\n            name='controller_node',\r\n            parameters=[\r\n                PathJoinSubstitution([\r\n                    pkg_robot_bringup,\r\n                    'config',\r\n                    'controller.yaml'\r\n                ]),\r\n                {'use_sim_time': use_sim_time},\r\n                {'robot_name': robot_name}\r\n            ],\r\n            output='screen'\r\n        ),\r\n\r\n        # Vision processing (conditional)\r\n        Node(\r\n            package='humanoid_vision',\r\n            executable='vision_node',\r\n            name='vision_node',\r\n            parameters=[\r\n                PathJoinSubstitution([\r\n                    pkg_robot_bringup,\r\n                    'config',\r\n                    'vision.yaml'\r\n                ]),\r\n                {'use_sim_time': use_sim_time}\r\n            ],\r\n            condition=IfCondition(enable_vision),\r\n            output='screen'\r\n        ),\r\n\r\n        # Launch additional files\r\n        IncludeLaunchDescription(\r\n            PythonLaunchDescriptionSource(\r\n                PathJoinSubstitution([\r\n                    pkg_robot_bringup,\r\n                    'launch',\r\n                    'navigation.launch.py'\r\n                ])\r\n            ),\r\n            launch_arguments={\r\n                'use_sim_time': use_sim_time,\r\n                'robot_name': robot_name\r\n            }.items()\r\n        )\r\n    ])\n"})}),"\n",(0,i.jsx)(e.h2,{id:"launch-actions-and-utilities",children:"Launch Actions and Utilities"}),"\n",(0,i.jsx)(e.h3,{id:"timer-actions",children:"Timer Actions"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"from launch import LaunchDescription, TimerAction\r\nfrom launch.actions import LogInfo\r\nfrom launch_ros.actions import Node\r\n\r\ndef generate_launch_description():\r\n    return LaunchDescription([\r\n        # Launch initial nodes immediately\r\n        Node(\r\n            package='my_package',\r\n            executable='initial_node',\r\n            name='initial_node'\r\n        ),\r\n\r\n        # Launch other nodes after delay\r\n        TimerAction(\r\n            period=5.0,  # Wait 5 seconds\r\n            actions=[\r\n                Node(\r\n                    package='my_package',\r\n                    executable='delayed_node',\r\n                    name='delayed_node'\r\n                ),\r\n                LogInfo(msg='Delayed node launched after 5 seconds')\r\n            ]\r\n        )\r\n    ])\n"})}),"\n",(0,i.jsx)(e.h3,{id:"execute-process",children:"Execute Process"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"from launch import LaunchDescription\r\nfrom launch.actions import ExecuteProcess\r\nfrom launch.substitutions import PathJoinSubstitution\r\nfrom launch_ros.substitutions import FindPackageShare\r\n\r\ndef generate_launch_description():\r\n    return LaunchDescription([\r\n        # Execute shell commands\r\n        ExecuteProcess(\r\n            cmd=['ros2', 'param', 'set', '/my_node', 'param_name', 'param_value'],\r\n            output='screen'\r\n        ),\r\n\r\n        # Execute external programs\r\n        ExecuteProcess(\r\n            cmd=['rviz2', '-d', PathJoinSubstitution([\r\n                FindPackageShare('my_pkg'),\r\n                'rviz',\r\n                'config.rviz'\r\n            ])],\r\n            output='screen'\r\n        )\r\n    ])\n"})}),"\n",(0,i.jsx)(e.h2,{id:"parameter-configuration",children:"Parameter Configuration"}),"\n",(0,i.jsx)(e.h3,{id:"complex-parameter-setup",children:"Complex Parameter Setup"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"from launch import LaunchDescription\r\nfrom launch.actions import DeclareLaunchArgument\r\nfrom launch.substitutions import LaunchConfiguration, PathJoinSubstitution\r\nfrom launch_ros.actions import Node\r\nfrom launch_ros.substitutions import FindPackageShare\r\n\r\ndef generate_launch_description():\r\n    config_arg = DeclareLaunchArgument(\r\n        'config',\r\n        default_value='default',\r\n        description='Configuration profile to use'\r\n    )\r\n\r\n    config = LaunchConfiguration('config')\r\n\r\n    # Determine config file based on argument\r\n    config_file = PathJoinSubstitution([\r\n        FindPackageShare('my_robot_config'),\r\n        'config',\r\n        [config, '.yaml']\r\n    ])\r\n\r\n    return LaunchDescription([\r\n        config_arg,\r\n\r\n        Node(\r\n            package='my_robot_navigation',\r\n            executable='nav2_bringup',\r\n            name='nav2_bringup',\r\n            parameters=[\r\n                config_file,\r\n                {'use_sim_time': True},\r\n                {'autostart': True},\r\n                {'map_subscribe_transient_local': True}\r\n            ],\r\n            output='screen'\r\n        )\r\n    ])\n"})}),"\n",(0,i.jsx)(e.h2,{id:"launch-file-best-practices",children:"Launch File Best Practices"}),"\n",(0,i.jsx)(e.h3,{id:"modular-launch-files",children:"Modular Launch Files"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"# main_launch.py\r\nfrom launch import LaunchDescription\r\nfrom launch.actions import DeclareLaunchArgument, IncludeLaunchDescription\r\nfrom launch.substitutions import LaunchConfiguration\r\nfrom launch.launch_description_sources import PythonLaunchDescriptionSource\r\nfrom launch_ros.substitutions import FindPackageShare\r\n\r\ndef generate_launch_description():\r\n    # Main launch file that includes others\r\n    return LaunchDescription([\r\n        IncludeLaunchDescription(\r\n            PythonLaunchDescriptionSource([\r\n                FindPackageShare('my_robot_description'),\r\n                '/launch',\r\n                '/robot_state_publisher.launch.py'\r\n            ])\r\n        ),\r\n\r\n        IncludeLaunchDescription(\r\n            PythonLaunchDescriptionSource([\r\n                FindPackageShare('my_robot_control'),\r\n                '/launch',\r\n                '/controller.launch.py'\r\n            ])\r\n        ),\r\n\r\n        IncludeLaunchDescription(\r\n            PythonLaunchDescriptionSource([\r\n                FindPackageShare('my_robot_navigation'),\r\n                '/launch',\r\n                '/navigation.launch.py'\r\n            ])\r\n        )\r\n    ])\n"})}),"\n",(0,i.jsx)(e.h3,{id:"error-handling-and-validation",children:"Error Handling and Validation"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"from launch import LaunchDescription, LaunchContext\r\nfrom launch.actions import LogInfo, OpaqueFunction\r\nfrom launch.substitutions import LaunchConfiguration\r\nfrom launch.launch_description_entity import LaunchDescriptionEntity\r\nfrom launch.some_substitutions_type import SomeSubstitutionsType\r\nfrom launch.utilities import perform_substitutions\r\n\r\ndef validate_config(context: LaunchContext):\r\n    \"\"\"Custom validation function\"\"\"\r\n    config_file = LaunchConfiguration('config_file').perform(context)\r\n\r\n    # Perform validation\r\n    if not config_file.endswith('.yaml'):\r\n        context.launch_logger.error(f'Config file must be YAML: {config_file}')\r\n        return []\r\n\r\n    return [LogInfo(msg=f'Validated config file: {config_file}')]\r\n\r\ndef generate_launch_description():\r\n    return LaunchDescription([\r\n        OpaqueFunction(function=validate_config),\r\n\r\n        # Other launch actions...\r\n    ])\n"})}),"\n",(0,i.jsx)(e.h2,{id:"debugging-launch-files",children:"Debugging Launch Files"}),"\n",(0,i.jsx)(e.h3,{id:"debug-information",children:"Debug Information"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"from launch import LaunchDescription\r\nfrom launch.actions import LogInfo, DeclareLaunchArgument\r\nfrom launch.substitutions import LaunchConfiguration, EnvironmentVariable\r\n\r\ndef generate_launch_description():\r\n    return LaunchDescription([\r\n        # Log system information\r\n        LogInfo(\r\n            msg=['ROS_DOMAIN_ID: ', EnvironmentVariable(name='ROS_DOMAIN_ID', default_value='0')]\r\n        ),\r\n\r\n        # Log launch arguments\r\n        DeclareLaunchArgument(\r\n            'debug_level',\r\n            default_value='info',\r\n            description='Debug level'\r\n        ),\r\n\r\n        LogInfo(\r\n            msg=['Debug level: ', LaunchConfiguration('debug_level')]\r\n        )\r\n    ])\n"})}),"\n",(0,i.jsx)(e.h2,{id:"advanced-launch-techniques",children:"Advanced Launch Techniques"}),"\n",(0,i.jsx)(e.h3,{id:"custom-launch-actions",children:"Custom Launch Actions"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"from launch import LaunchDescription\r\nfrom launch.actions import Action\r\nfrom launch.some_actions_type import SomeActionsType\r\nfrom launch.launch_context import LaunchContext\r\n\r\nclass CustomValidationAction(Action):\r\n    def __init__(self, **kwargs):\r\n        super().__init__(**kwargs)\r\n\r\n    def execute(self, context: LaunchContext) -> SomeActionsType:\r\n        # Perform custom validation\r\n        context.launch_logger.info('Performing custom validation...')\r\n\r\n        # Return additional actions if needed\r\n        return []\n"})}),"\n",(0,i.jsx)(e.h3,{id:"launch-file-composition",children:"Launch File Composition"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"# composite_launch.py\r\nfrom launch import LaunchDescription\r\nfrom launch.actions import GroupAction, SetEnvironmentVariable\r\nfrom launch_ros.actions import Node, PushRosNamespace\r\n\r\ndef generate_launch_description():\r\n    return LaunchDescription([\r\n        # Set environment for all nodes\r\n        SetEnvironmentVariable(\r\n            name='CUSTOM_ENV',\r\n            value='robot_system'\r\n        ),\r\n\r\n        # Robot 1 group\r\n        GroupAction(\r\n            actions=[\r\n                PushRosNamespace('robot1'),\r\n                Node(\r\n                    package='my_package',\r\n                    executable='robot_node',\r\n                    name='robot_node'\r\n                )\r\n            ]\r\n        ),\r\n\r\n        # Robot 2 group\r\n        GroupAction(\r\n            actions=[\r\n                PushRosNamespace('robot2'),\r\n                Node(\r\n                    package='my_package',\r\n                    executable='robot_node',\r\n                    name='robot_node'\r\n                )\r\n            ]\r\n        )\r\n    ])\n"})}),"\n",(0,i.jsx)(e.h2,{id:"common-launch-file-patterns",children:"Common Launch File Patterns"}),"\n",(0,i.jsx)(e.h3,{id:"sensor-processing-pipeline",children:"Sensor Processing Pipeline"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"from launch import LaunchDescription\r\nfrom launch.actions import DeclareLaunchArgument\r\nfrom launch.substitutions import LaunchConfiguration\r\nfrom launch_ros.actions import Node\r\n\r\ndef generate_launch_description():\r\n    return LaunchDescription([\r\n        DeclareLaunchArgument(\r\n            'sensor_namespace',\r\n            default_value='laser',\r\n            description='Namespace for sensor nodes'\r\n        ),\r\n\r\n        # Sensor driver\r\n        Node(\r\n            package='velodyne_driver',\r\n            executable='velodyne_node',\r\n            name='velodyne_driver',\r\n            namespace=LaunchConfiguration('sensor_namespace'),\r\n            parameters=[\r\n                {'device_ip': '192.168.1.201'},\r\n                {'frame_id': 'laser_link'}\r\n            ]\r\n        ),\r\n\r\n        # Point cloud processing\r\n        Node(\r\n            package='point_cloud_processing',\r\n            executable='filter_node',\r\n            name='pointcloud_filter',\r\n            namespace=LaunchConfiguration('sensor_namespace'),\r\n            parameters=[\r\n                {'voxel_leaf_size': 0.1}\r\n            ],\r\n            remappings=[\r\n                ('input', 'velodyne_points'),\r\n                ('output', 'filtered_points')\r\n            ]\r\n        )\r\n    ])\n"})}),"\n",(0,i.jsx)(e.h2,{id:"launch-file-testing",children:"Launch File Testing"}),"\n",(0,i.jsx)(e.h3,{id:"testing-launch-files",children:"Testing Launch Files"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"# test_launch.py\r\nimport unittest\r\nfrom launch import LaunchDescription\r\nfrom launch.actions import ExecuteProcess\r\nfrom launch_testing.actions import ReadyToTest\r\n\r\ndef generate_test_description():\r\n    return LaunchDescription([\r\n        # Launch nodes for testing\r\n        ExecuteProcess(\r\n            cmd=['ros2', 'run', 'my_package', 'test_node'],\r\n            output='screen'\r\n        ),\r\n\r\n        # Ready to test\r\n        ReadyToTest()\r\n    ])\r\n\r\nclass TestLaunchFile(unittest.TestCase):\r\n    def test_node_launches(self):\r\n        # Test implementation\r\n        pass\n"})}),"\n",(0,i.jsx)(e.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsxs)(e.p,{children:["Continue to ",(0,i.jsx)(e.a,{href:"/physical-ai/docs/module-1/assessment",children:"Module 1 Assessment"})," to test your knowledge of ROS 2 fundamentals."]}),"\n",(0,i.jsx)(e.h2,{id:"learning-objectives-review",children:"Learning Objectives Review"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Understand the structure and syntax of ROS 2 launch files \u2713"}),"\n",(0,i.jsx)(e.li,{children:"Create launch files for complex robot systems \u2713"}),"\n",(0,i.jsx)(e.li,{children:"Use parameters, arguments, and conditions in launch files \u2713"}),"\n",(0,i.jsx)(e.li,{children:"Implement advanced launch patterns and best practices \u2713"}),"\n",(0,i.jsx)(e.li,{children:"Debug and troubleshoot launch file configurations \u2713"}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"practical-exercise",children:"Practical Exercise"}),"\n",(0,i.jsx)(e.p,{children:"Create a launch file for a simple robot system that includes:"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"Robot state publisher with URDF"}),"\n",(0,i.jsx)(e.li,{children:"Joint state publisher"}),"\n",(0,i.jsx)(e.li,{children:"A controller node with parameters"}),"\n",(0,i.jsx)(e.li,{children:"Conditional launching based on arguments"}),"\n",(0,i.jsx)(e.li,{children:"Proper namespacing and remappings"}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"assessment-questions",children:"Assessment Questions"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"What is the difference between LaunchConfiguration and DeclareLaunchArgument?"}),"\n",(0,i.jsx)(e.li,{children:"How do you conditionally launch nodes based on arguments?"}),"\n",(0,i.jsx)(e.li,{children:"Explain the purpose of PathJoinSubstitution in launch files."}),"\n",(0,i.jsx)(e.li,{children:"How can you include other launch files within a launch file?"}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"further-reading",children:"Further Reading"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["ROS 2 Launch Documentation: ",(0,i.jsx)(e.a,{href:"https://docs.ros.org/en/humble/p/launch/",children:"https://docs.ros.org/en/humble/p/launch/"})]}),"\n",(0,i.jsxs)(e.li,{children:["Launch System Design: ",(0,i.jsx)(e.a,{href:"https://github.com/ros2/launch",children:"https://github.com/ros2/launch"})]}),"\n",(0,i.jsxs)(e.li,{children:["ROS 2 Launch Tutorials: ",(0,i.jsx)(e.a,{href:"https://docs.ros.org/en/humble/Tutorials/Intermediate/Launch/Creating-Launch-Files.html",children:"https://docs.ros.org/en/humble/Tutorials/Intermediate/Launch/Creating-Launch-Files.html"})]}),"\n",(0,i.jsxs)(e.li,{children:["Launch System API: ",(0,i.jsx)(e.a,{href:"https://launch.ros.org/api/launch/",children:"https://launch.ros.org/api/launch/"})]}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(u,{...n})}):u(n)}},8453(n,e,r){r.d(e,{R:()=>t,x:()=>c});var a=r(6540);const i={},o=a.createContext(i);function t(n){const e=a.useContext(o);return a.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:t(n.components),a.createElement(o.Provider,{value:e},n.children)}}}]);